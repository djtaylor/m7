server = {
	ip:   process.argv[3],
	port: process.argv[2],
	validate: function() {
		if (this.ip == null || this.ip == undefined) {
			return false;
		} else if (this.port == null || this.port == undefined) {
			return false;
		} else {
			return true;
		}
	}
};

if (!server.validate()) {
	console.log('Must define server IP and port to run');
} else {
	var io = require('socket.io').listen(server.port, server.ip);
	var web_clients = [];
	io.sockets.on('connection', function(socket) {
		socket.on('web_transmit', function(json) {
		    io.sockets.clients().forEach(function (web_socket) {
		    	var socket_id = web_socket.id;
		    	web_socket.emit('web_receive', json);
		    });
		});
		socket.on('web_connect', function() {
			console.log(data);
		});
	});
}